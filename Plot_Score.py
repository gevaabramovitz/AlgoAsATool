import pandas as pd
import matplotlib.pyplot as plt

KET_TPR_SCORE = [("KNN", {'PRECISION': 0.7342053517996068, 'TPR': 0.2446601941747573,
               'TNR': 0.8723964042973033}),
      ("RandomForest",
       {'PRECISION': 0.760622381807301, 'TPR': 0.20815533980582523,
        'TNR': 0.9165753124314843}),
      ("LDA", {'PRECISION': 0.7814824313926648, 'TPR': 0.18796116504854368,
               'TNR': 0.9490243367682526}),
      ("AdaBoost", {'PRECISION': 0.737539540053005, 'TPR': 0.27805825242718446,
                    'TNR': 0.867244025433019}),
      ("DecisionTree",
       {'PRECISION': 0.6785500555698042, 'TPR': 0.3584466019417476,
        'TNR': 0.7689103266827451}),
      ("MLPC", {'PRECISION': 0.780883987347183, 'TPR': 0.20504854368932038,
                'TNR': 0.9434334575750932}),
      ("LogisticRegression",
       {'PRECISION': 0.7815679233991621, 'TPR': 0.1650485436893204,
        'TNR': 0.9556018417013813}),
      ("SVM", {'PRECISION': 0.7605368898008036, 'TPR': 0.23611650485436894,
               'TNR': 0.9085726814295111}),
      ("BaggingKNN",
       {'PRECISION': 0.7545524493459862, 'TPR': 0.1988349514563107,
        'TNR': 0.9114229335672002}),
      ("BaggingRandomForest",
       {'PRECISION': 0.7825938274771309, 'TPR': 0.1429126213592233,
        'TNR': 0.9631659723744793}),
      ("BaggingLDA",
       {'PRECISION': 0.781738907412157, 'TPR': 0.18174757281553397,
        'TNR': 0.95110721333041}),
      ("BaggingAdaBoost",
       {'PRECISION': 0.7754124989313499, 'TPR': 0.13009708737864079,
        'TNR': 0.9575750931813198}),
      ("BaggingDecisionTree",
       {'PRECISION': 0.7737026588014021, 'TPR': 0.1821359223300971,
        'TNR': 0.9406928305196229}),
      ("BaggingMLPC",
       {'PRECISION': 0.7816534154056596, 'TPR': 0.16427184466019418,
        'TNR': 0.9559307169480377}),
      ("BaggingLogistic",
       {'PRECISION': 0.7815679233991621, 'TPR': 0.17436893203883494,
        'TNR': 0.9529708397281298}),
      ("BaggingSVM",
       {'PRECISION': 0.7812259553731726, 'TPR': 0.012038834951456311,
        'TNR': 0.9983556237667178}),
      ("VotingHard",
       {'PRECISION': 0.7839616995810892, 'TPR': 0.14135922330097087,
        'TNR': 0.9653584740188556}),
      ("VotingSoft",
       {'PRECISION': 0.7833632555356074, 'TPR': 0.12077669902912622,
        'TNR': 0.9704012278009209})]
KET_PRECISION_SCORE = [("KNN", {'PRECISION': 0.7342053517996068, 'TPR': 0.2446601941747573,
               'TNR': 0.8723964042973033}),
      ("RandomForest",
       {'PRECISION': 0.763871078054202, 'TPR': 0.21631067961165049,
        'TNR': 0.9184389388292041}),
      ("LDA", {'PRECISION': 0.7814824313926648, 'TPR': 0.18796116504854368,
               'TNR': 0.9490243367682526}),
      ("AdaBoost", {'PRECISION': 0.7378815080789947, 'TPR': 0.2796116504854369,
                    'TNR': 0.867244025433019}),
      ("DecisionTree",
       {'PRECISION': 0.6787210395827991, 'TPR': 0.3530097087378641,
        'TNR': 0.770664327998246}),
      ("MLPC", {'PRECISION': 0.780883987347183, 'TPR': 0.20504854368932038,
                'TNR': 0.9434334575750932}),
      ("LogisticRegression",
       {'PRECISION': 0.7815679233991621, 'TPR': 0.1650485436893204,
        'TNR': 0.9556018417013813}),
      ("SVM", {'PRECISION': 0.7605368898008036, 'TPR': 0.23611650485436894,
               'TNR': 0.9085726814295111}),
      ("BaggingKNN",
       {'PRECISION': 0.7529281012225357, 'TPR': 0.2062135922330097,
        'TNR': 0.9072571804428853}),
      ("BaggingRandomForest",
       {'PRECISION': 0.78327776352911, 'TPR': 0.1366990291262136,
        'TNR': 0.9657969743477307}),
      ("BaggingLDA",
       {'PRECISION': 0.7816534154056596, 'TPR': 0.18019417475728156,
        'TNR': 0.9514360885770664}),
      ("BaggingAdaBoost",
       {'PRECISION': 0.7768658630418056, 'TPR': 0.12310679611650485,
        'TNR': 0.9614119710589782}),
      ("BaggingDecisionTree",
       {'PRECISION': 0.7680601863725741, 'TPR': 0.16349514563106796,
        'TNR': 0.9387195790396843}),
      ("BaggingMLPC",
       {'PRECISION': 0.781738907412157, 'TPR': 0.14640776699029126,
        'TNR': 0.9610830958123219}),
      ("BaggingLogistic",
       {'PRECISION': 0.7814824313926648, 'TPR': 0.1712621359223301,
        'TNR': 0.9537382153036614}),
      ("BaggingSVM",
       {'PRECISION': 0.7805420193211935, 'TPR': 0.005436893203883495,
        'TNR': 0.9993422495066872}),
      ("VotingHard",
       {'PRECISION': 0.7833632555356074, 'TPR': 0.14563106796116504,
        'TNR': 0.9633852225389169}),
      ("VotingSoft",
       {'PRECISION': 0.7831067795161153, 'TPR': 0.12427184466019417,
        'TNR': 0.9690857268142951})]

MET_TPR_SCORE= [("KNN", {'PRECISION': 0.6770966914593486, 'TPR': 0.7127676965832924,
               'TNR': 0.6379928315412187}),
      ("RandomForest",
       {'PRECISION': 0.6906044284859366, 'TPR': 0.7003433055419324,
        'TNR': 0.6799283154121863}),
      ("LDA", {'PRECISION': 0.6855604001025905, 'TPR': 0.7310773254863495,
               'TNR': 0.635663082437276}),
      ("AdaBoost", {'PRECISION': 0.6507651534581517, 'TPR': 0.6648683995422593,
                    'TNR': 0.6353046594982079}),
      ("DecisionTree",
       {'PRECISION': 0.6603402581858596, 'TPR': 0.72699035474906,
        'TNR': 0.5872759856630825}),
      ("MLPC", {'PRECISION': 0.6871847482260409, 'TPR': 0.7256825241131274,
                'TNR': 0.6449820788530466}),
      ("LogisticRegression",
       {'PRECISION': 0.6929982046678635, 'TPR': 0.6929867582148111,
        'TNR': 0.693010752688172}),
      ("SVM", {'PRECISION': 0.6921432846028897, 'TPR': 0.6846493379107406,
               'TNR': 0.7003584229390681}),
      ("BaggingKNN",
       {'PRECISION': 0.6797469436607677, 'TPR': 0.7108059506293934,
        'TNR': 0.6456989247311828}),
      ("BaggingRandomForest",
       {'PRECISION': 0.6855604001025905, 'TPR': 0.689553702795488,
        'TNR': 0.6811827956989247}),
      ("BaggingLDA",
       {'PRECISION': 0.6868427802000513, 'TPR': 0.7235572993297368,
        'TNR': 0.646594982078853}),
      ("BaggingAdaBoost",
       {'PRECISION': 0.6726511071214841, 'TPR': 0.6779467059015858,
        'TNR': 0.6668458781362007}),
      ("BaggingDecisionTree",
       {'PRECISION': 0.6734205351799607, 'TPR': 0.609612555174105,
        'TNR': 0.7433691756272401}),
      ("BaggingMLPC",
       {'PRECISION': 0.6920577925963922, 'TPR': 0.6987085172470165,
        'TNR': 0.6847670250896057}),
      ("BaggingLogistic",
       {'PRECISION': 0.6938531247328374, 'TPR': 0.68873630864803,
        'TNR': 0.6994623655913978}),
      ("BaggingSVM",
       {'PRECISION': 0.6899204924339575, 'TPR': 0.7060650645741376,
        'TNR': 0.6722222222222223}),
      ("VotingHard",
       {'PRECISION': 0.6916303325639053, 'TPR': 0.6949485041687101,
        'TNR': 0.6879928315412186}),
      ("VotingSoft",
       {'PRECISION': 0.6909463965119261, 'TPR': 0.6977276442700671,
        'TNR': 0.6835125448028674})]

MET_PRECISION_SCORE = [("KNN", {'PRECISION': 0.6770966914593486, 'TPR': 0.7127676965832924,
               'TNR': 0.6379928315412187}),
      ("RandomForest",
       {'PRECISION': 0.6820552278361973, 'TPR': 0.6942945888507438,
        'TNR': 0.6686379928315412}),
      ("LDA", {'PRECISION': 0.6855604001025905, 'TPR': 0.7310773254863495,
               'TNR': 0.635663082437276}),
      ("AdaBoost", {'PRECISION': 0.6510216294776439, 'TPR': 0.6655223148602256,
                    'TNR': 0.6351254480286739}),
      ("DecisionTree",
       {'PRECISION': 0.6603402581858596, 'TPR': 0.72699035474906,
        'TNR': 0.5872759856630825}),
      ("MLPC", {'PRECISION': 0.6871847482260409, 'TPR': 0.7256825241131274,
                'TNR': 0.6449820788530466}),
      ("LogisticRegression",
       {'PRECISION': 0.6929982046678635, 'TPR': 0.6929867582148111,
        'TNR': 0.693010752688172}),
      ("SVM", {'PRECISION': 0.6921432846028897, 'TPR': 0.6846493379107406,
               'TNR': 0.7003584229390681}),
      ("BaggingKNN",
       {'PRECISION': 0.6755578353423954, 'TPR': 0.7145659637076999,
        'TNR': 0.6327956989247312}),
      ("BaggingRandomForest",
       {'PRECISION': 0.6833376079336582, 'TPR': 0.6830145496158248,
        'TNR': 0.6836917562724014}),
      ("BaggingLDA",
       {'PRECISION': 0.6928272206548688, 'TPR': 0.6871015203531142,
        'TNR': 0.6991039426523298}),
      ("BaggingAdaBoost",
       {'PRECISION': 0.6720526630760024, 'TPR': 0.6812162824914174,
        'TNR': 0.6620071684587814}),
      ("BaggingDecisionTree",
       {'PRECISION': 0.6723946311019919, 'TPR': 0.6202386790910577,
        'TNR': 0.7295698924731183}),
      ("BaggingMLPC",
       {'PRECISION': 0.6906899204924339, 'TPR': 0.7005067843714239,
        'TNR': 0.6799283154121863}),
      ("BaggingLogistic",
       {'PRECISION': 0.6941096007523296, 'TPR': 0.6941311100212523,
        'TNR': 0.6940860215053763}),
      ("BaggingSVM",
       {'PRECISION': 0.6901769684534496, 'TPR': 0.7032859244727808,
        'TNR': 0.6758064516129032}),
      ("VotingHard",
       {'PRECISION': 0.6913738565444131, 'TPR': 0.6938041523622691,
        'TNR': 0.6887096774193548}),
      ("VotingSoft", {'PRECISION': 0.6918013165769, 'TPR': 0.6969102501226091,
                      'TNR': 0.6862007168458781})]

KET_COR = [("SUM_RUM_LST_mean", -0.21876644471913373),
           ("SUM_RUM_LST_std", 0.18101804700853083),
           ("SUM_RUM_LST_min_val", -0.21566538060208643),
           ("SUM_RUM_LST_max_dif", 0.15868099175014597),
           ("SUM_RUM_LST_avg_dif", 0.16078365459164937),
           ("SUM_RUM_LST_std_dif", 0.14625684022917368),
           ("SUM_RUM_LST_day_0", 0.05502560675635064),
           ("SUM_RUM_LST_day_1", 0.08021581196762562),
           ("SUM_RUM_LST_day_2", 0.10438948470844706),
           ("SUM_RUM_LST_day_3", 0.11191256525372337),
           ("SUM_RUM_LST_day_4", 0.11802329480095529),
           ("SUM_RUM_LST_day_5", 0.12057887905733229),
           ("SUM_RUM_LST_day_6", 0.13818008657088193),
           ("SUM_RUM_LST_day_7", 0.12731306449215665),
           ("SUM_RUM_LST_day_8", 0.1251569308929971),
           ("SUM_RUM_LST_day_9", 0.12418010577211551),
           ("SUM_RUM_LST_day_10", 0.11326152835942231),
           ("SUM_RUM_LST_day_11", 0.10763156868425065),
           ("SUM_RUM_LST_day_12", 0.10247230169105896),
           ("SUM_RUM_LST_day_13", 0.09373324292271261),
           ("SUM_EAT_LST_mean", -0.22413530482622307),
           ("SUM_EAT_LST_std", 0.0012228243388263346),
           ("SUM_EAT_LST_min_val", -0.22782075879219046),
           ("SUM_EAT_LST_max_dif", 0.025204665404518385),
           ("SUM_EAT_LST_avg_dif", 0.0184834319730247),
           ("SUM_EAT_LST_std_dif", 0.011624257365814511),
           ("SUM_EAT_LST_day_0", 0.024481848128402872),
           ("SUM_EAT_LST_day_1", 0.04186974039079862),
           ("SUM_EAT_LST_day_2", 0.06011420974532723),
           ("SUM_EAT_LST_day_3", 0.05916839903938426),
           ("SUM_EAT_LST_day_4", 0.06172635386427297),
           ("SUM_EAT_LST_day_5", 0.05237454783186442),
           ("SUM_EAT_LST_day_6", 0.06125522257049342),
           ("SUM_EAT_LST_day_7", 0.0682540814397484),
           ("SUM_EAT_LST_day_8", 0.06999346286970817),
           ("SUM_EAT_LST_day_9", 0.061651834235284766),
           ("SUM_EAT_LST_day_10", 0.08197232994790328),
           ("SUM_EAT_LST_day_11", 0.067644046975728),
           ("SUM_EAT_LST_day_12", 0.06909270450375171),
           ("SUM_EAT_LST_day_13", 0.07589275882552109),
           ("SUM_ACT_LST_mean", -0.242599992004544),
           ("SUM_ACT_LST_std", 0.07411862692611486),
           ("SUM_ACT_LST_max_val", -0.1729932976329938),
           ("SUM_ACT_LST_min_val", -0.24798121982490676),
           ("SUM_ACT_LST_day_0", 0.04628338002562248),
           ("SUM_ACT_LST_day_1", 0.057958924147004924),
           ("SUM_ACT_LST_day_2", 0.07439961729880058),
           ("SUM_ACT_LST_day_3", 0.06641934162128388),
           ("SUM_ACT_LST_day_4", 0.06521913743738748),
           ("SUM_ACT_LST_day_5", 0.06518941113434834),
           ("SUM_ACT_LST_day_6", 0.07096594076411249),
           ("SUM_ACT_LST_day_7", 0.0707647575472325),
           ("SUM_ACT_LST_day_8", 0.06322392838561597),
           ("SUM_ACT_LST_day_9", 0.057960316517786506),
           ("SUM_ACT_LST_day_10", 0.0664739626106979),
           ("SUM_ACT_LST_day_11", 0.06794971211756377),
           ("SUM_ACT_LST_day_12", 0.0655258005843042),
           ("SUM_ACT_LST_day_13", 0.053932727244588495),
           ("SUM_GEN_RST_LST_mean", 0.31959068628252724),
           ("SUM_GEN_RST_LST_std", 0.21206346603435988),
           ("SUM_GEN_RST_LST_max_val", 0.27681912033529943),
           ("SUM_GEN_RST_LST_min_val", 0.24360101895234243),
           ("SUM_GEN_RST_LST_max_dif", 0.18658301877001346),
           ("SUM_GEN_RST_LST_avg_dif", 0.21568325631875596),
           ("SUM_GEN_RST_LST_std_dif", 0.18563817848068667),
           ("SUM_GEN_RST_LST_day_0", 0.05955637716872579),
           ("SUM_GEN_RST_LST_day_1", 0.08087832941057663),
           ("SUM_GEN_RST_LST_day_2", 0.11579371468473013),
           ("SUM_GEN_RST_LST_day_3", 0.11838124236590576),
           ("SUM_GEN_RST_LST_day_4", 0.11887472646680972),
           ("SUM_GEN_RST_LST_day_5", 0.1103504203054801),
           ("SUM_GEN_RST_LST_day_6", 0.12113794889330669),
           ("SUM_GEN_RSTLST_day_7", 0.11802269319509774),
           ("SUM_GEN_RST_LST_day_8", 0.12818978354542043),
           ("SUM_GEN_RST_LST_day_9", 0.11401365935374447),
           ("SUM_GEN_RST_LST_day_10", 0.11242960890757321),
           ("SUM_GEN_RST_LST_day_11", 0.1127775213239968),
           ("SUM_GEN_RST_LST_day_12", 0.10037521351974542),
           ("SUM_GEN_RST_LST_day_13", 0.09586705027041457)]

MET_COR = [("SUM_RUM_LST_mean", -0.28564682091814647),
           ("SUM_RUM_LST_std", 0.30099579091260364),
           ("SUM_RUM_LST_min_val", -0.3279435438343464),
           ("SUM_RUM_LST_max_dif", 0.15513491228588816),
           ("SUM_RUM_LST_avg_dif", 0.1525317781456791),
           ("SUM_RUM_LST_std_dif", 0.161054014200079),
           ("SUM_RUM_LST_day_0", 0.09649898719478961),
           ("SUM_RUM_LST_day_1", 0.13579366249293587),
           ("SUM_RUM_LST_day_2", 0.1280058980430818),
           ("SUM_RUM_LST_day_3", 0.10560845409058647),
           ('SUM_RUM_LST_day_4', 0.08475766718120191),
           ('SUM_RUM_LST_day_5', 0.08506089569865426),
           ('SUM_RUM_LST_day_6', 0.08703868850901987),
           ('SUM_RUM_LST_day_7', 0.08778363238765223),
           ('SUM_RUM_LST_day_8', 0.06946548856195427),
           ('SUM_RUM_LST_day_9', 0.06415346183139457),
           ('SUM_RUM_LST_day_10', 0.05807461397469913),
           ('SUM_RUM_LST_day_11', 0.06474388143089635),
           ('SUM_RUM_LST_day_12', 0.0650324503039488),
           ('SUM_RUM_LST_day_13', 0.05672237173449562),
           ('SUM_EAT_LST_mean', -0.25140352991253684),
           ('SUM_EAT_LST_std', 0.15177150992849098),
           ('SUM_EAT_LST_min_val', -0.33980555616545005),
           ('SUM_EAT_LST_max_dif', 0.08211080205005031),
           ('SUM_EAT_LST_avg_dif', 0.07663599946493807),
           ('SUM_EAT_LST_std_dif', 0.07768861926311764),
           ('SUM_EAT_LST_day_0', 0.05421925679281812),
           ('SUM_EAT_LST_day_1', 0.04878419234699326),
           ('SUM_EAT_LST_day_2', 0.03848279048293399),
           ('SUM_EAT_LST_day_3', 0.027891675031528586),
           ('SUM_EAT_LST_day_4', 0.018085389543327876),
           ('SUM_EAT_LST_day_5', 0.00998044162735961),
           ('SUM_EAT_LST_day_6', 0.01743606418089873),
           ('SUM_EAT_LST_day_7', 0.013461596137522899),
           ('SUM_EAT_LST_day_8', 0.020287055042011642),
           ('SUM_EAT_LST_day_9', 0.02723203164656797),
           ('SUM_EAT_LST_day_10', 0.028123455005588868),
           ('SUM_EAT_LST_day_11', 0.023271571407154114),
           ('SUM_EAT_LST_day_12', 0.02841497335304007),
           ('SUM_EAT_LST_day_13', 0.019166098132429414),
           ('SUM_ACT_LST_mean', -0.2522351794462309),
           ('SUM_ACT_LST_std', 0.09858713750716126),
           ('SUM_ACT_LST_max_val', -0.21118362335210672),
           ('SUM_ACT_LST_min_val', -0.3015325986319856),
           ('SUM_ACT_LST_day_0', 0.10494935069372936),
           ('SUM_ACT_LST_day_1', 0.0894246573708149),
           ('SUM_ACT_LST_day_2', 0.07244477303694143),
           ('SUM_ACT_LST_day_3', 0.04830552073098394),
           ('SUM_ACT_LST_day_4', 0.05547211312013077),
           ('SUM_ACT_LST_day_5', 0.05638653512769619),
           ('SUM_ACT_LST_day_6', 0.054902597756328934),
           ('SUM_ACT_LST_day_7', 0.041809022115939225),
           ('SUM_ACT_LST_day_8', 0.031092832846024064),
           ('SUM_ACT_LST_day_9', 0.02077668611464177),
           ('SUM_ACT_LST_day_10', 0.02379616879697134),
           ('SUM_ACT_LST_day_11', 0.029024450423077035),
           ('SUM_ACT_LST_day_12', 0.037553176838277545),
           ('SUM_ACT_LST_day_13', 0.03212038440678481),
           ('SUM_GEN_RST_LST_mean', 0.35877005306946075),
           ('SUM_GEN_RST_LST_std', 0.38426069464301305),
           ('SUM_GEN_RST_LST_max_val', 0.39165724345979036),
           ('SUM_GEN_RST_LST_min_val', 0.22249346175894633),
           ('SUM_GEN_RST_LST_max_dif', 0.24178046315538448),
           ('SUM_GEN_RST_LST_avg_dif', 0.25285927947928394),
           ('SUM_GEN_RST_LST_std_dif', 0.25575220173052116),
           ('SUM_GEN_RST_LST_day_0', 0.11636653420779322),
           ('SUM_GEN_RST_LST_day_1', 0.1349131020039395),
           ('SUM_GEN_RST_LST_day_2', 0.13155029590715583),
           ('SUM_GEN_RST_LST_day_3', 0.10153777245626956),
           ('SUM_GEN_RST_LST_day_4', 0.07112618654941605),
           ('SUM_GEN_RST_LST_day_5', 0.05481820268752702),
           ('SUM_GEN_RST_LST_day_6', 0.054298788106740964),
           ('SUM_GEN_RST_LST_day_7', 0.05385694376475252),
           ('SUM_GEN_RST_LST_day_8', 0.04655232654193737),
           ('SUM_GEN_RST_LST_day_9', 0.04947702192819421),
           ('SUM_GEN_RST_LST_day_10', 0.051879369432722804),
           ('SUM_GEN_RST_LST_day_11', 0.05058279885756976),
           ('SUM_GEN_RST_LST_day_12', 0.05411823826596655),
           ('SUM_GEN_RST_LST_day_13', 0.047243141451270815)]
def plot_histogram_precision(lst, name):
    df = pd.DataFrame()
    df["models"] = [tup[0] for tup in lst]
    df["precision"] = [tup[1]['PRECISION'] for tup in lst]
    df["TPR"] = [tup[1]['TPR'] for tup in lst]
    df["TNR"] = [tup[1]['TNR'] for tup in lst]
    df.plot.bar(x="models", y=["precision", "TPR", "TNR"])
    plt.xlabel('MODELS', fontweight='bold')
    plt.ylabel('PERCENTAGE', fontweight='bold')
    plt.ylim(0, 1)
    plt.title(name)
    plt.savefig(name + ".png",bbox_inches='tight')
    plt.show()


def plot_histogram_corr(lst, name):
    df = pd.DataFrame()
    df["features"] = [tup[0] for tup in lst]
    df["correlation"] = [tup[1] for tup in lst]
    df.plot.bar(x="features", y=["correlation"], fontsize = 4)
    plt.xlabel('FEATURES', fontweight='bold')
    plt.ylabel('CORRELATION', fontweight='bold')
    plt.title(name, fontsize = 10)
    plt.rcParams.update({'font.size': 5})
    plt.rcParams["figure.figsize"] = (14,10)
    plt.savefig(name + ".png", bbox_inches='tight')
    plt.show()


if __name__ == '__main__':
    # plot_histogram_precision(KET_TPR_SCORE,"KET_TPR_SCORE")
    # plot_histogram_precision(KET_PRECISION_SCORE,"KET_PRECISION_SCORE")
    # plot_histogram_precision(MET_TPR_SCORE,"MET_TPR_SCORE")
    # plot_histogram_precision(MET_PRECISION_SCORE,"MET_PRECISION_SCORE")
    plot_histogram_corr(MET_COR, "MET_CORRELATION")
    plot_histogram_corr(KET_COR, "KET_CORRELATION")
